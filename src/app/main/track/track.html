<div id="dashboard-project" class="page-layout simple right-sidenav ng-scope layout-row" layout="row">
  <!-- CENTER -->
  <div class="center ms-scroll flex ps-container ps-theme-default ps-active-y" flex="" ms-scroll="" data-ps-id="f647bc0f-e929-2314-4138-c467f4188cb9">
    <!-- WIDGET GROUP -->
    <div class="widget-group" layout="row" flex="100" layout-wrap>
      <!-- WIDGET 2 -->
      <ms-widget flippable="false" layout="column" flex="100" flex-gt-md="100">
        <!-- Front -->
        <ms-widget-front class="white-bg">
          <div class="p-16" layout="row" layout-align="space-between center">
            <div class="h3">{{vm.maps.title}}</div>
            <md-menu>
              <md-button aria-label="more" class="md-icon-button" ng-click="$mdMenu.open($event)">
                <md-icon md-font-icon="icon-dots-vertical"></md-icon>
              </md-button>
              <md-menu-content width="2">
                <md-menu-item>
                  <md-button ng-click="vm.refreshWidget()" aria-label="Refresh widget">
                    Actualizar
                  </md-button>
                </md-menu-item>
              </md-menu-content>
            </md-menu>
          </div>
          <div>

            <div class="map-wrapper">
              <ui-gmap-google-map center="vm.maps.map.center" zoom="vm.maps.map.zoom" options="vm.maps.map.options">
                <ui-gmap-markers models="vm.maps.map.markers" coords="'coords'">
                  <ui-gmap-windows show="show">
                    <div ng-non-bindable>
                      <p>
                        <strong>{{labels.fecha | date:'dd-MM-yyyy HH:mm:ss'}}</strong>
                      </p>
                      <p>Lat: {{coords.latitude}} <br>   Log: {{coords.longitude}}</p>
                    </div>
                  </ui-gmap-windows>
                </ui-gmap-markers>
              </ui-gmap-google-map>
            </div>

            <style>

            .map-wrapper {
              position: relative;
              height: calc(90vh - 4em - 64px);
            }

            .angular-google-map-container {
              position: absolute;
              top: 0;
              bottom: 0;
              right: 0;
              left: 0;
              height: 100%
            }
            </style>


          </div>
        </ms-widget-front>
        <!-- / Front -->
      </ms-widget>
      <!-- / WIDGET 2 -->
    </div>
    <!-- / WIDGET GROUP -->
  </div>
  <!-- / CENTER -->

</div>

